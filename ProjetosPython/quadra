class Quadra:
    def __init__(self, nome, hora_inicio, hora_fim, duracao_bloco, hora_inicio_domingo=None, hora_fim_domingo=None):
        self.nome = nome
        self.agenda = {}
        self.hora_inicio = hora_inicio
        self.hora_fim = hora_fim
        self.duracao_bloco = duracao_bloco
        self.hora_inicio_domingo = hora_inicio_domingo
        self.hora_fim_domingo = hora_fim_domingo

    def agendar(self, data, hora_inicio, hora_fim):
        if data.weekday() == 6:  # Domingo
            hora_inicio_disponivel = self.hora_inicio_domingo or self.hora_inicio
            hora_fim_disponivel = self.hora_fim_domingo or self.hora_fim
        elif data.weekday() == 0:  # Segunda
            return False
        else:
            hora_inicio_disponivel = self.hora_inicio
            hora_fim_disponivel = self.hora_fim

        if hora_inicio < hora_inicio_disponivel or hora_fim > hora_fim_disponivel:
            return False

        hora_atual = hora_inicio
        while hora_atual + self.duracao_bloco <= hora_fim:
            if data in self.agenda and hora_atual in self.agenda[data]:
                return False
            if data not in self.agenda:
                self.agenda[data] = []
            self.agenda[data].append(hora_atual)
            hora_atual += self.duracao_bloco
        return True
